
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>repast4py.network module &#8212; repast4py  documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="repast4py.parameters module" href="repast4py.parameters.html" />
    <link rel="prev" title="repast4py.logging module" href="repast4py.logging.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="repast4py.parameters.html" title="repast4py.parameters module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="repast4py.logging.html" title="repast4py.logging module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">repast4py  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >repast4py</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="repast4py.html" accesskey="U">repast4py package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">repast4py.network module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-repast4py.network">
<span id="repast4py-network-module"></span><h1>repast4py.network module<a class="headerlink" href="#module-repast4py.network" title="Permalink to this headline">¶</a></h1>
<p>The network module contains classes and functions for simulating networks (i.e., graphs) where
agents are the nodes in the network. The network code is built-on the <a class="reference external" href="https://networkx.org">networkx</a>
python package.</p>
<dl class="py class">
<dt id="repast4py.network.DirectedSharedNetwork">
<em class="property">class </em><code class="sig-prename descclassname">repast4py.network.</code><code class="sig-name descname">DirectedSharedNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">comm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#repast4py.network.SharedNetwork" title="repast4py.network.SharedNetwork"><code class="xref py py-class docutils literal notranslate"><span class="pre">repast4py.network.SharedNetwork</span></code></a></p>
<p>Encapsulates a directed network shared over multiple process ranks.</p>
<p>This wraps a <a class="reference external" href="https://networkx.org">networkx</a> DiGraph object and delegates all the network
related operations to it. That Graph is exposed as the <cite>graph</cite>
attribute. See the <a class="reference external" href="https://networkx.org">networkx</a> Graph documentation for more information
on the network functionality that it provides. <strong>The network structure
must NOT be changed using the networkx functions and methods
(adding and removing nodes, for example)</strong>. Use this class’
methods for manipulating the network structure.</p>
<dl class="py attribute">
<dt id="repast4py.network.DirectedSharedNetwork.graph">
<code class="sig-name descname">graph</code><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>a <a class="reference external" href="https://networkx.org">networkx</a> graph object wrapped by this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>networkx.DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="repast4py.network.DirectedSharedNetwork.comm">
<code class="sig-name descname">comm</code><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.comm" title="Permalink to this definition">¶</a></dt>
<dd><p>the communicator over which the network is shared.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>MPI.Comm</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="repast4py.network.DirectedSharedNetwork.names">
<code class="sig-name descname">names</code><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.names" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of this network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the SharedNetwork</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.MPI.Comm</em>) – the communicator over which this DirectedSharedNetwork is distributed</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="repast4py.network.DirectedSharedNetwork.add_edge">
<code class="sig-name descname">add_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">u_agent</span></em>, <em class="sig-param"><span class="n">v_agent</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwattr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.add_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an edge beteen u_agent and v_agent.</p>
<p>If the u and v agents are not existing nodes in the network, they
will be added. Edge attributes can be added using keyword
arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u_agent</strong> (<em>_core.Agent</em>) – The u agent</p></li>
<li><p><strong>v_agent</strong> (<em>_core.Agent</em>) – The v agent</p></li>
<li><p><strong>kwattr</strong> – optional keyword arguments for assigning edge data.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Add an edge with a weight attribute</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent1</span><span class="p">,</span> <span class="n">agent2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mf">3.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.DirectedSharedNetwork.is_directed">
<em class="property">property </em><code class="sig-name descname">is_directed</code><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.is_directed" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether or not this network is directed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.DirectedSharedNetwork.num_edges">
<code class="sig-name descname">num_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.DirectedSharedNetwork.num_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of edges that contain the specified agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of edges that contain the specified agent</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>agent</strong> (<em>_core.Agent</em>) – </p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="repast4py.network.SharedNetwork">
<em class="property">class </em><code class="sig-prename descclassname">repast4py.network.</code><code class="sig-name descname">SharedNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">comm</span></em>, <em class="sig-param"><span class="n">graph</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A network that can be shared across multiple process ranks through
ghost nodes and edges. This is the base class for the Directed and Undirected
SharedNetwork classes. This class should <strong>NOT</strong> be instantiated directly by users.</p>
<p>This wraps a <a class="reference external" href="https://networkx.org">networkx</a> Graph object and delegates all the network
related operations to it. That Graph is exposed as the <cite>graph</cite>
attribute. See the <a class="reference external" href="https://networkx.org">networkx</a> Graph documentation for more information
on the network functionality that it provides. <strong>The network structure
should _NOT_ be changed using the networkx functions and methods
(adding and removing nodes, for example)</strong>. Use this class’
methods for manipulating the network structure.</p>
<dl class="py attribute">
<dt id="repast4py.network.SharedNetwork.graph">
<code class="sig-name descname">graph</code><a class="headerlink" href="#repast4py.network.SharedNetwork.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>a <a class="reference external" href="https://networkx.org">networkx</a> graph object that
provides the network functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>networkx Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the SharedNetwork</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.MPI.Comm</em>) – the communicator over which this SharedNetwork is distributed</p></li>
<li><p><strong>graph</strong> (<em>networkx Graph</em>) – <p>the <a class="reference external" href="https://networkx.org">networkx</a> graph object that provides the network
functionality.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="repast4py.network.SharedNetwork.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the specified agent as a node in the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agent</strong> (<em>_core.Agent</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.add_nodes">
<code class="sig-name descname">add_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agents</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds each agent in the specified list of agents as
nodes in the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agents</strong> (<em>List</em><em>[</em><em>_core.Agent</em><em>]</em>) – the list of agents to add</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.clear_edges">
<code class="sig-name descname">clear_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.clear_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all the edges.</p>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.contains_edge">
<code class="sig-name descname">contains_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">u_agent</span></em>, <em class="sig-param"><span class="n">v_agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.contains_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether or not an edge exists between the u_agent and v_agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u_agent</strong> (<em>_core.Agent</em>) – the u node of the edge.</p></li>
<li><p><strong>v_agent</strong> (<em>_core.Agent</em>) – the v node of the edge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if an edge exists, otherwise False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.edge_count">
<em class="property">property </em><code class="sig-name descname">edge_count</code><a class="headerlink" href="#repast4py.network.SharedNetwork.edge_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of edges in this SharedNework.</p>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.node_count">
<em class="property">property </em><code class="sig-name descname">node_count</code><a class="headerlink" href="#repast4py.network.SharedNetwork.node_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of nodes in this SharedNetwork.</p>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the specified agent from this SharedNetwork.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agent</strong> (<em>_core.Agent</em>) – the agent to remove</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NetworkXError</strong> – if the agent is not a node in this SharedNetwork.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.remove_edge">
<code class="sig-name descname">remove_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">u_agent</span></em>, <em class="sig-param"><span class="n">v_agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.remove_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the edge between u_agent and v_agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u_agent</strong> (<em>_core.Agent</em>) – the u node of the edge.</p></li>
<li><p><strong>v_agent</strong> (<em>_core.Agent</em>) – the v node of the edge.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NetworkXError</strong> – if there is no edge between u_agent and v_agent.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.SharedNetwork.update_edge">
<code class="sig-name descname">update_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">u_agent</span></em>, <em class="sig-param"><span class="n">v_agent</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwattr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.SharedNetwork.update_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the edge between u_agent and v_agent with the specified
attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u_agent</strong> (<em>_core.Agent</em>) – the u node of the edge</p></li>
<li><p><strong>v_agent</strong> (<em>_core.Agent</em>) – the v node of the edge</p></li>
<li><p><strong>kwattr</strong> – keyword arguments containting the edge attribute updates</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Update the weight attribute for the edge between agent1 and agent2.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">update_edge</span><span class="p">(</span><span class="n">agent1</span><span class="p">,</span> <span class="n">agent2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mf">10.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="repast4py.network.UndirectedSharedNetwork">
<em class="property">class </em><code class="sig-prename descclassname">repast4py.network.</code><code class="sig-name descname">UndirectedSharedNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">comm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#repast4py.network.SharedNetwork" title="repast4py.network.SharedNetwork"><code class="xref py py-class docutils literal notranslate"><span class="pre">repast4py.network.SharedNetwork</span></code></a></p>
<p>Encapsulates an undirected network shared over multiple processes.</p>
<p>This wraps a <a class="reference external" href="https://networkx.org">networkx</a> Graph object and delegates all the network
related operations to it. That Graph is exposed as the <cite>graph</cite>
attribute. See the <a class="reference external" href="https://networkx.org">networkx</a> Graph documentation for more information
on the network functionality that it provides. <strong>The network structure
should NOT be changed using the networkx functions and methods
(adding and removing nodes, for example).</strong> Use this class’
methods for manipulating the network structure.</p>
<dl class="py attribute">
<dt id="repast4py.network.UndirectedSharedNetwork.graph">
<code class="sig-name descname">graph</code><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>a network graph object responsible for
network operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>networkx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="repast4py.network.UndirectedSharedNetwork.comm">
<code class="sig-name descname">comm</code><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.comm" title="Permalink to this definition">¶</a></dt>
<dd><p>the communicator over which the network is shared.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>MPI.Comm</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="repast4py.network.UndirectedSharedNetwork.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.name" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of this network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the SharedNetwork</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.MPI.Comm</em>) – the communicator over which this SharedNetwork is distributed</p></li>
<li><p><strong>directed</strong> – specifies whether this SharedNetwork is directed or not</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="repast4py.network.UndirectedSharedNetwork.add_edge">
<code class="sig-name descname">add_edge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">u_agent</span></em>, <em class="sig-param"><span class="n">v_agent</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwattr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.add_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an edge between u_agent and v_agent.</p>
<p>If the u and v agents are not existing nodes in the network, they
will be added. Edge attributes can be added using keyword
arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u_agent</strong> (<em>_core.Agent</em>) – The u agent</p></li>
<li><p><strong>v_agent</strong> (<em>_core.Agent</em>) – The v agent</p></li>
<li><p><strong>kwattr</strong> – optional keyword arguments for assigning edge data.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Add an edge with a weight attribute</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">agent1</span><span class="p">,</span> <span class="n">agent2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mf">3.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.UndirectedSharedNetwork.is_directed">
<em class="property">property </em><code class="sig-name descname">is_directed</code><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.is_directed" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether or not this network is directed. Returns False</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="repast4py.network.UndirectedSharedNetwork.num_edges">
<code class="sig-name descname">num_edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.UndirectedSharedNetwork.num_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of edges that contain the specified agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agent</strong> (<em>_core.Agent</em>) – agent whose edge will be counted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of edges that contain the specified agent</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="repast4py.network.read_network">
<code class="sig-prename descclassname">repast4py.network.</code><code class="sig-name descname">read_network</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">ctx</span></em>, <em class="sig-param"><span class="n">create_agent</span></em>, <em class="sig-param"><span class="n">restore_agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.read_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and initializes the network described in the specified file.</p>
<p>The network will be created and added to the specified context as a projection. The nodes
defined in the file will be created as agents. Those agents with a local rank will be added
to the specified context, and those remote agents that participate in an edge with a local
agent with be added as ghost agents.</p>
<p>The format of the file is as follows. The first line consists of a network id (name)
followed by a space followed by 0 or 1, where
0 indicates that the network is undirected and 1 that it is directed. This first line is followed the node descriptions.
Each node description line defines a node and consists at least 3 space separated elements.
These 3 are the node id, the agent type,
and the rank on which the agent should be created. These 3 are optionally followed by a json dictionary string
containing any attributes of that agent. The node descriptions should be followed by “EDGES” to indicate
that the edge descriptions follow in the remaining lines. Each edge description line defines an edge and consists of at least 2
space separated elements. These two are the node ids of the u and v components of the edge. An optional 3rd
element, a json dictionary, defines any attributes (e.g., weight) to associate with that edge. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">friend_network</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">}</span>
<span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span> <span class="p">:</span> <span class="mi">24</span><span class="p">}</span>
<span class="mi">3</span> <span class="mi">0</span> <span class="mi">0</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span> <span class="p">:</span> <span class="mi">30</span><span class="p">}</span>
<span class="n">EDGES</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="p">{</span><span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="mi">3</span> <span class="mi">1</span> <span class="p">{</span><span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">}</span>
</pre></div>
</div>
<p>Without node or edge attributes::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">friend_network</span> <span class="mi">0</span>
<span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="mi">3</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">EDGES</span>
<span class="mi">1</span> <span class="mi">2</span>
<span class="mi">3</span> <span class="mi">1</span>
</pre></div>
</div>
<p>The node id, the type and the rank elements are passed to a user specified Callable to create the agents.
In that Callable, these 3 elements must be used to create the agents’ unique ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – the path to the network description file.</p></li>
<li><p><strong>ctx</strong> (<a class="reference internal" href="repast4py.context.html#repast4py.context.SharedContext" title="repast4py.context.SharedContext"><em>repast4py.context.SharedContext</em></a>) – the context to add the agents to</p></li>
<li><p><strong>create_agent</strong> (<em>Callable</em>) – a Callable used to create an agent from a node description.
The Callable must have the following signature <code class="samp docutils literal notranslate"><span class="pre">(node_id:</span> <span class="pre">int,</span> <span class="pre">agent_type:</span> <span class="pre">int,</span> <span class="pre">rank:</span> <span class="pre">int,</span> <span class="pre">**agent_attributes)</span></code>
and return an agent.</p></li>
<li><p><strong>restore_agent</strong> (<em>Callable</em>) – a Callable used to deserialize agents from agent data sent from
another rank, that is, one that takes the tuple returned by an agent’s save()
method and returns an agent.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="repast4py.network.write_network">
<code class="sig-prename descclassname">repast4py.network.</code><code class="sig-name descname">write_network</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph</span></em>, <em class="sig-param"><span class="n">network_name</span></em>, <em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">n_ranks</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">partition_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repast4py.network.write_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Partitions a specified network over the specified process ranks and writes that network to a file
in a format that can be read by the <a class="reference internal" href="#repast4py.network.read_network" title="repast4py.network.read_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">repast4py.network.read_network()</span></code></a> function. The intention is
that <cite>write_network</cite> is used to create a distributed partitioned graph file outside of a running
simulation, and once created that file can then be read during simulation initialization to create
a repast4py network.</p>
<p>The format of the file is as follows. The first line consists of a network id (name)
followed by a space followed by 0 or 1, where
0 indicates that the network is undirected and 1 that it is directed. This first line is followed the node descriptions.
Each node description line defines a node and consists at least 3 space separated elements.
These 3 are the node id, the agent type,
and the rank on which the agent should be created. These 3 are optionally followed by a json dictionary string
containing any attributes of that agent. The node descriptions should be followed by “EDGES” to indicate
that the edge descriptions follow in the remaining lines. Each edge description line defines an edge and consists of at least 2
space separated elements. These two are the node ids of the u and v components of the edge. An optional 3rd
element, a json dictionary, defines any attributes (e.g., weight) to associate with that edge. If a node in the graph
contains an ‘agent_type’ attribute then that will written as the agent type id for that node, otherwise the type is 0.</p>
<p>The network is partitioned across process ranks by assigning each node to a rank. A <cite>partition_method</cite>
can be specified in the <cite>partition_args</cite> and can be one of ‘random’ or ‘metis’. If no <cite>partition_method</cite>
is defined, then the method defaults to random where the nodes will be uniformly distributed among the process
ranks without any load balancing. A partition method of <cite>metis</cite> will use the metis
load balancer to allocate nodes to ranks. Metis is not included with repast4py and must be installed
separately.  See the <a class="reference external" href="https://networkx-metis.readthedocs.io/en/latest/index.html">networkx metis docs</a> for
more information on installation and nxmetis. Note that installing from source or github may be necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>networkx.classes.graph.Graph</em>) – the graph to partition and write out.</p></li>
<li><p><strong>network_name</strong> (<em>str</em>) – the id / name  to assign to the partitioned network</p></li>
<li><p><strong>fpath</strong> (<em>str</em>) – the path of the file to write the partitioned network to</p></li>
<li><p><strong>n_ranks</strong> (<em>int</em>) – the number of ranks to partition the network over</p></li>
<li><p><strong>partition_args</strong> – <p>keyword arguments that determine how the graph will be partitioned.</p>
<ul>
<li><p>The <cite>partition_method</cite> keyword is used to determine the partition method (‘random’ or ‘metis’).</p></li>
</ul>
<dl class="simple">
<dt>If <cite>partition_method</cite> is ‘random’:</dt><dd><ul>
<li><p><cite>rng</cite> specifies the random number generator to use in the random partitioning. Valid values are any numpy.random.Generator instance or ‘default’ to use the repast4py.random.default_rng. If no ‘rng’ is specified then by default the repast4py.random.default_rng is used.</p></li>
</ul>
</dd>
<dt>If <cite>partition_method</cite> is ‘metis’:</dt><dd><ul>
<li><p>The partition_args are forwared to the nxmetis’ partition function. The various arguments to that can be found in the <a class="reference external" href="https://networkx-metis.readthedocs.io/en/latest/reference/generated/nxmetis.partition.html">networkx metis reference</a>.</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Random Patitioning</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">generators</span><span class="o">.</span><span class="n">dual_barabasi_albert_graph</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;./test_data/gen_net_test.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_network</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">partition_method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Metis Partitioning</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">complete_graph</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">nxmetis</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">MetisOptions</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">write_network</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;metis_test&quot;</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">partition_method</span><span class="o">=</span><span class="s1">&#39;metis&#39;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="repast4py.logging.html"
                        title="previous chapter">repast4py.logging module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="repast4py.parameters.html"
                        title="next chapter">repast4py.parameters module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/source/repast4py.network.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="repast4py.parameters.html" title="repast4py.parameters module"
             >next</a> |</li>
        <li class="right" >
          <a href="repast4py.logging.html" title="repast4py.logging module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">repast4py  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >repast4py</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="repast4py.html" >repast4py package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">repast4py.network module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, UChicago Argonne, LLC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>